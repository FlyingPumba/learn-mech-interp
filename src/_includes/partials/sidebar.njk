<nav id="sidebar" class="sidebar" aria-label="Topics">
  <div class="sidebar-inner">
    <h2 class="sidebar-title">Topics</h2>
    {% for block in learningPath.blocks %}
    {% set blockHasCurrent = false %}
    {% for topic in block.topics %}
      {% if page.fileSlug == topic.slug %}
        {% set blockHasCurrent = true %}
      {% endif %}
    {% endfor %}
    <details class="sidebar-block"{% if blockHasCurrent %} open{% endif %}>
      <summary class="sidebar-block-title">{{ block.title }}</summary>
      <ul class="sidebar-topics">
        {% for topic in block.topics %}
        <li>
          <a href="/topics/{{ topic.slug }}/"{% if page.fileSlug == topic.slug %} aria-current="page" class="sidebar-active"{% endif %}>
            {{ topic.title }}
          </a>
        </li>
        {% endfor %}
      </ul>
    </details>
    {% endfor %}
  </div>
</nav>
