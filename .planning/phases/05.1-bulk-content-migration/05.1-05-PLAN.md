---
phase: 05.1-bulk-content-migration
plan: 05
type: execute
wave: 2
depends_on: ["05.1-01"]
files_modified:
  - src/topics/activation-patching/index.md
  - src/topics/attribution-patching/index.md
  - src/topics/ioi-circuit/index.md
  - src/topics/circuit-evaluation/index.md
  - src/topics/ioi-circuit/images/ioi_circuit_diagram.png
autonomous: true

must_haves:
  truths:
    - "activation-patching pilot is reviewed and scoped to core activation patching only (attribution/path patching content extracted if needed)"
    - "attribution-patching article covers gradient approximation and path patching as distinct methods"
    - "ioi-circuit article covers the full IOI discovery: task, algorithm, methodology, and all head classes"
    - "circuit-evaluation article covers the three criteria, negative/backup name movers, causal scrubbing, and lessons"
    - "All 4 articles have block: observation-to-causation"
  artifacts:
    - path: "src/topics/attribution-patching/index.md"
      provides: "Attribution Patching and Path Patching article"
      contains: "block: \"observation-to-causation\""
    - path: "src/topics/ioi-circuit/index.md"
      provides: "IOI Circuit article"
      contains: "block: \"observation-to-causation\""
    - path: "src/topics/circuit-evaluation/index.md"
      provides: "Circuit Evaluation article"
      contains: "block: \"observation-to-causation\""
    - path: "src/topics/ioi-circuit/images/ioi_circuit_diagram.png"
      provides: "IOI circuit diagram"
  key_links:
    - from: "src/topics/attribution-patching/index.md"
      to: "src/topics/activation-patching/index.md"
      via: "prerequisite link"
      pattern: "/topics/activation-patching/"
    - from: "src/topics/circuit-evaluation/index.md"
      to: "src/topics/ioi-circuit/index.md"
      via: "prerequisite link and inline references"
      pattern: "/topics/ioi-circuit/"
---

<objective>
Create Block 3 (From Observation to Causation): review the activation-patching pilot, create 3 new articles covering attribution/path patching, the IOI circuit discovery, and circuit evaluation (Weeks 6-8).

Purpose: Block 3 transitions from observational tools to causal methods, culminating in the IOI circuit as the landmark case study of circuit analysis.
Output: 4 articles (1 reviewed pilot + 3 new) + 1 diagram, covering Weeks 6-8.
</objective>

<execution_context>
@/Users/ivan/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ivan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/05.1-bulk-content-migration/05.1-RESEARCH.md
@src/topics/activation-patching/index.md (existing pilot -- review target)
@src/_data/references.json (updated by Plan 01)
@src/_data/learningPath.json (updated by Plan 01)

Typst source files:
- /Users/ivan/latex/mech-interp-course/week-06/week-06.typ (sections 5-6 for attribution-patching)
- /Users/ivan/latex/mech-interp-course/week-07/week-07.typ (sections 2-7 for ioi-circuit)
- /Users/ivan/latex/mech-interp-course/week-08/week-08.typ (sections 2-8 for circuit-evaluation)
- /Users/ivan/latex/mech-interp-course/globals.typ

Course research notes (READ THESE for deeper content, additional references, and pedagogical context beyond the Typst slides):
- /Users/ivan/latex/mech-interp-course/.planning/phases/04-causal-methods/04-RESEARCH.md (Weeks 6-8 domain research -- covers activation patching, path patching, IOI circuit, causal scrubbing)

Diagram to copy:
- /Users/ivan/latex/mech-interp-course/week-08/assets/ioi_circuit_diagram.png
</context>

<tasks>

<task type="auto">
  <name>Task 1: Review activation-patching pilot and create attribution-patching article</name>
  <files>
    src/topics/activation-patching/index.md
    src/topics/attribution-patching/index.md
  </files>
  <action>
**Part A: Review and scope activation-patching pilot**

Read the existing pilot at `src/topics/activation-patching/index.md`. Compare against the new article scope: the pilot should cover core activation patching only (Typst Week 6 sections 2-4: clean/corrupted framework, the patching operation, choosing a metric, noising vs denoising, interpreting results).

Check whether the pilot currently covers attribution patching or path patching in detail. Per the research: "If it covers attribution/path patching superficially, leave it and let the new article go deep. If it covers them in detail, extract that content into the new article and trim the pilot."

Actions:
- If pilot mentions attribution/path patching only briefly (1-2 paragraphs), leave it with a cross-link to the new article: "For the gradient-based approximation, see [Attribution Patching and Path Patching](/topics/attribution-patching/)."
- If pilot has substantial attribution/path patching content, extract it into the new article and replace with the cross-link above.
- Ensure pilot has 2 pause-and-think prompts, 2+ sidenotes, proper front matter with block: "observation-to-causation"
- Add cross-link forward to attribution-patching

**Part B: Create attribution-patching article**

Create `src/topics/attribution-patching/index.md` from Week 6 sections 5-6. Cover:

- Attribution Patching: the gradient approximation (linear approximation to activation patching), efficiency gain (one forward + one backward pass vs N forward passes), when it works well and when it breaks down
- Path Patching: beyond component outputs to edges in the computational graph, from components to connections, applications (tracing information flow between specific heads)

Front matter:
```yaml
title: "Attribution Patching and Path Patching"
description: "Efficient gradient-based approximations to activation patching, and path patching for tracing information flow along specific edges in the computational graph."
prerequisites:
  - title: "Activation Patching and Causal Interventions"
    url: "/topics/activation-patching/"
difficulty: "intermediate"
block: "observation-to-causation"
category: "methods"
```

References: nanda2023attribution, conmy2023ioi (for path patching). Cross-link back to activation-patching, forward to ioi-circuit (where these methods are applied at scale).

Content guidelines: 1,500-2,000 words, KaTeX math, 2 pause-and-think, 2-4 sidenotes.
  </action>
  <verify>
Run `npx @11ty/eleventy --dryrun` -- no build errors. Verify both files exist.
  </verify>
  <done>activation-patching pilot reviewed and properly scoped. attribution-patching article created with gradient approximation and path patching content.</done>
</task>

<task type="auto">
  <name>Task 2: Create ioi-circuit and circuit-evaluation articles</name>
  <files>
    src/topics/ioi-circuit/index.md
    src/topics/ioi-circuit/images/ioi_circuit_diagram.png
    src/topics/circuit-evaluation/index.md
  </files>
  <action>
**Article A: ioi-circuit**

Create the images directory and copy the diagram:
```bash
mkdir -p src/topics/ioi-circuit/images
cp /Users/ivan/latex/mech-interp-course/week-08/assets/ioi_circuit_diagram.png src/topics/ioi-circuit/images/
```

Create `src/topics/ioi-circuit/index.md` from Week 7 sections 2-7. Cover:

- The IOI Task: Indirect Object Identification ("When Mary and John went to the store, John gave a drink to ___")
- The Human-Readable Algorithm: the 4-step process the model follows
- The Discovery Methodology: backward tracing from output to input, identifying component classes
- Name Mover Heads: copy the correct name to the output
- Duplicate Token Heads and Induction Heads: detect repeated names
- S-Inhibition Heads: suppress the subject name so the indirect object is predicted

Note: The full IOI circuit diagram is placed in circuit-evaluation (Plan 05 Task 2 below), because that is where the complete circuit is discussed. But reference it here with a forward-link.

Front matter:
```yaml
title: "The IOI Circuit: Discovery and Mechanism"
description: "How researchers reverse-engineered the complete algorithm GPT-2 Small uses for indirect object identification, discovering five classes of attention heads working in concert."
prerequisites:
  - title: "Attribution Patching and Path Patching"
    url: "/topics/attribution-patching/"
difficulty: "advanced"
block: "observation-to-causation"
category: "applications"
```

References: wang2022ioi (primary), conmy2023ioi. Cross-link to activation-patching, attribution-patching, forward to circuit-evaluation.

Content guidelines: 2,000-2,500 words (rich case study), KaTeX math, 2 pause-and-think, 2-4 sidenotes, tell it as a discovery story.

**Article B: circuit-evaluation**

Create `src/topics/circuit-evaluation/index.md` from Week 8 sections 2-8. Cover:

- Negative Name Movers: heads that boost the wrong name (loss hedging)
- Backup Name Movers: redundancy in the circuit
- The Full Circuit Diagram (place the IOI circuit diagram here with Figure caption)
- Evaluating Circuits: the three criteria (faithfulness, completeness, minimality), tensions between them
- Causal Scrubbing: the Redwood Research approach, strengths, limitations
- Lessons from the IOI Circuit: what circuit analysis teaches us
- Limitations of Circuit Analysis: scalability concerns, the gap between toy circuits and real behavior

Place the diagram:
`![The complete IOI circuit diagram showing all five head classes and their connections](/topics/ioi-circuit/images/ioi_circuit_diagram.png "Figure 1: The complete IOI circuit in GPT-2 Small, showing name movers, S-inhibition heads, duplicate token heads, induction heads, and their connections.")`

Note: the PNG lives in ioi-circuit/images/ but is referenced from circuit-evaluation. This is fine since Eleventy serves the image from the ioi-circuit directory.

Front matter:
```yaml
title: "Circuit Evaluation: Faithfulness, Completeness, and Minimality"
description: "How to evaluate whether a discovered circuit is a faithful, complete, and minimal explanation of model behavior, with lessons from the IOI circuit's surprising components."
prerequisites:
  - title: "The IOI Circuit: Discovery and Mechanism"
    url: "/topics/ioi-circuit/"
difficulty: "advanced"
block: "observation-to-causation"
category: "core-concepts"
```

References: wang2022ioi, chan2022causalscrubbing. Cross-link back to ioi-circuit, forward to superposition and sparse-autoencoders (limitations of circuit analysis motivate feature-level approaches).

Content guidelines: 2,000-2,500 words, KaTeX math, 2 pause-and-think, 2-4 sidenotes.
  </action>
  <verify>
Run `npx @11ty/eleventy --dryrun` -- no build errors. Verify ioi_circuit_diagram.png exists in src/topics/ioi-circuit/images/. Verify both articles exist.
  </verify>
  <done>ioi-circuit and circuit-evaluation articles created with the IOI discovery story and evaluation framework. Circuit diagram placed.</done>
</task>

</tasks>

<verification>
1. `npx @11ty/eleventy --dryrun` succeeds
2. All 4 Block 3 articles exist with block: "observation-to-causation"
3. activation-patching pilot properly scoped (attribution/path patching content either brief or extracted)
4. IOI circuit diagram PNG placed in ioi-circuit/images/
5. circuit-evaluation references the diagram with Figure caption
6. Narrative arc: patching -> attribution patching -> IOI discovery -> evaluation framework
</verification>

<success_criteria>
- 4 articles in Block 3 covering Weeks 6-8
- Pilot properly reviewed and scoped
- 3 new articles with narrative prose, KaTeX math, citations
- IOI circuit diagram placed with alt text and caption
- Build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/05.1-bulk-content-migration/05.1-05-SUMMARY.md`
</output>
