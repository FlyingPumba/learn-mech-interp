---
phase: 05-navigation-information-architecture
plan: 01
subsystem: navigation
tags: [eleventy-navigation, toc, idattribute, learning-path, collection]
dependency_graph:
  requires: [phase-04]
  provides: [navigation-plugins, learning-path-data, learning-path-collection, computed-navigation]
  affects: [05-02, 05-03, 05-04]
tech_stack:
  added: ["@11ty/eleventy-navigation@1.0.5", "eleventy-plugin-toc@1.1.5"]
  patterns: [directory-data-computed-properties, eleventy-collection-from-data-file]
key_files:
  created:
    - src/_data/learningPath.json
  modified:
    - package.json
    - package-lock.json
    - eleventy.config.js
    - src/topics/topics.11tydata.js
decisions:
  - key: learningPath-collection-filter
    choice: "Filter topics by learningPath.json slugs, excluding test article"
    why: "Test article has no block field and should not appear in navigation"
  - key: navigation-key-slug
    choice: "Use page.fileSlug as eleventyNavigation key instead of title"
    why: "Stable keys avoid issues with special characters in titles"
  - key: idattribute-before-toc
    choice: "Register IdAttributePlugin before TOC plugin"
    why: "TOC plugin reads heading IDs generated by IdAttributePlugin"
metrics:
  duration: "1min 37s"
  completed: 2026-02-04
---

# Phase 05 Plan 01: Foundation - Plugins, Data, Collection Summary

Navigation plugin infrastructure with learningPath.json data file, learningPath collection, and computed eleventyNavigation metadata on all topic articles.

## What Was Done

### Task 1: Install plugins and create learning path data
- Installed `@11ty/eleventy-navigation@1.0.5` and `eleventy-plugin-toc@1.1.5`
- Created `src/_data/learningPath.json` with 3 blocks and 3 topics:
  - Transformer Foundations: attention-mechanism
  - Superposition & Feature Extraction: superposition
  - Observation to Causation: activation-patching
- Block slugs match the `block` front matter field in each article exactly

### Task 2: Register plugins, create collection, add computed navigation data
- Registered 3 new plugins in `eleventy.config.js`:
  - `IdAttributePlugin` - adds `id` attributes to headings (required by TOC)
  - `eleventyNavigationPlugin` - sidebar hierarchy and breadcrumbs
  - `pluginTOC` - table of contents from h2/h3 headings
- Added `learningPath` collection that reads `learningPath.json`, flattens topic slugs into an ordered list, and sorts topic pages accordingly
- Updated `src/topics/topics.11tydata.js` with `eleventyComputed` block that derives `eleventyNavigation` from front matter (`key: fileSlug`, `parent: block`, `order: order || 0`)
- Guard clause `if (!data.title || !data.block)` prevents test article from receiving navigation metadata

## Verification Results

- Both plugins installed and listed in `npm ls`
- Eleventy build completes successfully (5 pages, 0.54s)
- Heading IDs present in built HTML (IdAttributePlugin working)
- KaTeX (49 occurrences), citations (3), sidenotes (4) all render correctly in attention-mechanism article
- No regressions in existing content

## Deviations from Plan

None -- plan executed exactly as written.

## Commits

| # | Hash | Message |
|---|------|---------|
| 1 | e33b62e | feat(05-01): install plugins and create learning path data |
| 2 | 788bd10 | feat(05-01): register plugins, create collection, and add computed navigation data |

## Next Plan Readiness

Plan 05-02 (Sidebar navigation, mobile hamburger toggle, page layout restructuring) can proceed. It depends on:
- `eleventyNavigationPlugin` registered (done)
- `learningPath` collection available (done)
- `eleventyNavigation` computed data on topic articles (done)
